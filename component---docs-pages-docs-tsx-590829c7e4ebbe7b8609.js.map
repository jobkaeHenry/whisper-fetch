{"version":3,"file":"component---docs-pages-docs-tsx-590829c7e4ebbe7b8609.js","mappings":"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","sources":["webpack://@jobkaehenry/whisper-fetch/./docs/components/TableOfContents.tsx","webpack://@jobkaehenry/whisper-fetch/./docs/components/DocLayout.tsx","webpack://@jobkaehenry/whisper-fetch/./docs/pages/docs.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\ninterface TocItem {\n  id: string;\n  text: string;\n  level: number;\n}\n\ninterface TableOfContentsProps {\n  items: TocItem[];\n}\n\nconst TableOfContents: React.FC<TableOfContentsProps> = ({ items }) => {\n  const [activeId, setActiveId] = useState<string>('');\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setActiveId(entry.target.id);\n          }\n        });\n      },\n      {\n        rootMargin: '-80px 0px -80% 0px',\n      }\n    );\n\n    // Observe all headings\n    items.forEach((item) => {\n      const element = document.getElementById(item.id);\n      if (element) {\n        observer.observe(element);\n      }\n    });\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [items]);\n\n  const handleClick = (e: React.MouseEvent<HTMLAnchorElement>, id: string) => {\n    e.preventDefault();\n    const element = document.getElementById(id);\n    if (element) {\n      const offsetTop = element.offsetTop - 100;\n      window.scrollTo({\n        top: offsetTop,\n        behavior: 'smooth',\n      });\n      // Update URL hash\n      window.history.pushState(null, '', `#${id}`);\n    }\n  };\n\n  return (\n    <nav className=\"table-of-contents\">\n      <h4 className=\"toc-title\">목차</h4>\n      <ul className=\"toc-list\">\n        {items.map((item) => (\n          <li\n            key={item.id}\n            className={`toc-item toc-level-${item.level} ${\n              activeId === item.id ? 'active' : ''\n            }`}\n          >\n            <a\n              href={`#${item.id}`}\n              onClick={(e) => handleClick(e, item.id)}\n              className=\"toc-link\"\n            >\n              {item.text}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nexport default TableOfContents;\n","import React, { useEffect, useState } from 'react';\nimport Layout from './Layout';\nimport TableOfContents from './TableOfContents';\n\ninterface TocItem {\n  id: string;\n  text: string;\n  level: number;\n}\n\ninterface DocLayoutProps {\n  children: React.ReactNode;\n}\n\nconst DocLayout: React.FC<DocLayoutProps> = ({ children }) => {\n  const [tocItems, setTocItems] = useState<TocItem[]>([]);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  useEffect(() => {\n    // Extract headings from the page\n    const headings = document.querySelectorAll('h2, h3');\n    const items: TocItem[] = [];\n\n    headings.forEach((heading) => {\n      const id = heading.id;\n      const text = heading.textContent || '';\n      const level = parseInt(heading.tagName.substring(1));\n\n      if (id && text) {\n        items.push({ id, text, level });\n      }\n    });\n\n    setTocItems(items);\n  }, [children]);\n\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n\n  return (\n    <Layout>\n      <div className=\"doc-layout\">\n        {/* Mobile menu button */}\n        <button\n          className=\"sidebar-toggle\"\n          onClick={toggleSidebar}\n          aria-label=\"Toggle sidebar\"\n        >\n          {isSidebarOpen ? '✕' : '☰'}\n        </button>\n\n        {/* Sidebar with TOC */}\n        <aside className={`doc-sidebar ${isSidebarOpen ? 'open' : ''}`}>\n          <div className=\"doc-sidebar-content\">\n            {tocItems.length > 0 && <TableOfContents items={tocItems} />}\n          </div>\n        </aside>\n\n        {/* Overlay for mobile */}\n        {isSidebarOpen && (\n          <div\n            className=\"sidebar-overlay\"\n            onClick={toggleSidebar}\n            aria-hidden=\"true\"\n          />\n        )}\n\n        {/* Main content */}\n        <div className=\"doc-content\">\n          {children}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default DocLayout;\n","import React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport DocLayout from '../components/DocLayout';\r\nimport CodeBlock from '../components/CodeBlock';\r\n\r\nconst DocsPage = () => {\r\n  const installCode = `npm install @jobkaehenry/whisper-fetch`;\r\n\r\n  const basicUsageCode = `import { BackgroundPrefetcher } from '@jobkaehenry/whisper-fetch';\r\n\r\nconst prefetcher = new BackgroundPrefetcher({\r\n  url: 'https://cdn.example.com/large-file.bin',\r\n  onProgress: (downloaded, total) => {\r\n    const progress = total ? (downloaded / total) * 100 : 0;\r\n    console.log(\\`진행률: \\${progress.toFixed(2)}%\\`);\r\n  },\r\n  onStatus: (status, error) => {\r\n    console.log('상태:', status);\r\n    if (error) console.error('에러:', error);\r\n  }\r\n});\r\n\r\n// 다운로드 시작\r\nawait prefetcher.start();`;\r\n\r\n  const controlCode = `// 일시정지\r\nprefetcher.pause();\r\n\r\n// 재개\r\nawait prefetcher.resume();\r\n\r\n// 중지 및 정리\r\nprefetcher.stop();\r\n\r\n// 완료된 파일 가져오기\r\nconst objectURL = await prefetcher.getObjectURL();\r\nif (objectURL) {\r\n  const link = document.createElement('a');\r\n  link.href = objectURL;\r\n  link.download = 'file.bin';\r\n  link.click();\r\n}`;\r\n\r\n  const cellularCode = `const prefetcher = new BackgroundPrefetcher({\r\n  url: 'https://...',\r\n  allowOnCellular: true  // 셀룰러에서도 다운로드\r\n});`;\r\n\r\n  const saveDataCode = `const prefetcher = new BackgroundPrefetcher({\r\n  url: 'https://...',\r\n  respectSaveData: true  // 데이터 절약 모드 시 다운로드 안함\r\n});`;\r\n\r\n  const downlinkCode = `const prefetcher = new BackgroundPrefetcher({\r\n  url: 'https://...',\r\n  minDownlinkMbps: 5  // 5Mbps 이상일 때만 다운로드\r\n});`;\r\n\r\n  const chunkSizeCode = `const prefetcher = new BackgroundPrefetcher({\r\n  url: 'https://...',\r\n  chunkSize: 1024 * 1024  // 1MB 고정\r\n});`;\r\n\r\n  const integrityCode = `const prefetcher = new BackgroundPrefetcher({\r\n  url: 'https://...',\r\n  integritySha256: 'abc123...'  // 다운로드 완료 후 해시 검증\r\n});`;\r\n\r\n  const storeCode = `const prefetcher = new BackgroundPrefetcher({\r\n  url: 'https://...',\r\n  store: 'idb'  // IndexedDB 강제 사용\r\n});`;\r\n\r\n  const hookCode = `import { usePrefetcher } from '@jobkaehenry/whisper-fetch/react';\r\n\r\nfunction FileDownloader() {\r\n  const {\r\n    status,      // 'idle' | 'started' | 'paused' | 'resumed' | 'completed' | 'error'\r\n    progress,    // 0-100\r\n    start,\r\n    pause,\r\n    resume,\r\n    stop,\r\n    objectURL\r\n  } = usePrefetcher({\r\n    url: 'https://cdn.example.com/large-file.bin',\r\n    integritySha256: 'optional-hash...'\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <p>상태: {status}</p>\r\n      <p>진행률: {progress.toFixed(2)}%</p>\r\n\r\n      <button onClick={start} disabled={status !== 'idle'}>\r\n        시작\r\n      </button>\r\n      <button onClick={pause} disabled={status !== 'started'}>\r\n        일시정지\r\n      </button>\r\n      <button onClick={resume} disabled={status !== 'paused'}>\r\n        재개\r\n      </button>\r\n      <button onClick={stop}>\r\n        중지\r\n      </button>\r\n\r\n      {objectURL && (\r\n        <a href={objectURL} download=\"file.bin\">\r\n          다운로드\r\n        </a>\r\n      )}\r\n    </div>\r\n  );\r\n}`;\r\n\r\n  const managerBasicCode = `import { PrefetchManagerImpl } from '@jobkaehenry/whisper-fetch';\r\n\r\n// 동시에 5개까지 다운로드\r\nconst manager = new PrefetchManagerImpl(5);\r\n\r\n// 단일 URL 추가\r\nconst id = manager.add({\r\n  url: 'https://cdn.example.com/video1.mp4',\r\n  priority: 10,  // 높을수록 우선순위가 높음\r\n  onProgress: (done, total) => console.log(\\`\\${done}/\\${total}\\`)\r\n});\r\n\r\n// 여러 URL 일괄 추가\r\nconst ids = manager.addBatch([\r\n  'https://cdn.example.com/video1.mp4',\r\n  'https://cdn.example.com/video2.mp4',\r\n  { url: 'https://cdn.example.com/video3.mp4', priority: 5 }\r\n]);`;\r\n\r\n  const managerControlCode = `// 상태 확인\r\nconst status = manager.getStatus(id);\r\n// { status: 'active' | 'queued', progress: { done: number, total?: number } }\r\n\r\n// 동시 다운로드 수 동적 변경\r\nmanager.setMaxConcurrent(10);\r\n\r\n// 일시정지/재개/중단\r\nmanager.pause(id);      // 특정 ID만\r\nmanager.pause();        // 전체 일시정지\r\nmanager.resume(id);     // 특정 ID만\r\nmanager.resume();       // 전체 재개\r\nmanager.stop(id);       // 특정 ID만\r\nmanager.stop();         // 전체 중단\r\n\r\n// 제거\r\nmanager.remove(id);\r\nawait manager.purge(id);`;\r\n\r\n  const managerExampleCode = `// 대용량 비디오 여러 개 미리 다운로드\r\nconst manager = new PrefetchManagerImpl(3);\r\nconst videoIds = manager.addBatch([\r\n  { url: '/videos/ep1.mp4', priority: 10 },  // 현재 에피소드는 우선순위 높게\r\n  { url: '/videos/ep2.mp4', priority: 5 },\r\n  { url: '/videos/ep3.mp4', priority: 1 }\r\n]);\r\n\r\n// 네트워크 상태에 따라 동시 다운로드 수 조정\r\nif (navigator.connection?.effectiveType === '4g') {\r\n  manager.setMaxConcurrent(10);\r\n} else {\r\n  manager.setMaxConcurrent(2);\r\n}`;\r\n\r\n  const integrityVerifyCode = `const prefetcher = new BackgroundPrefetcher({\r\n  url: 'https://cdn.example.com/file.bin',\r\n  integritySha256: 'expected-sha256-hash',\r\n  onStatus: (status, error) => {\r\n    if (status === 'error') {\r\n      console.error('무결성 검증 실패:', error);\r\n    }\r\n  }\r\n});`;\r\n\r\n  const networkControlCode = `const prefetcher = new BackgroundPrefetcher({\r\n  url: 'https://cdn.example.com/large-video.mp4',\r\n  allowOnCellular: false,      // Wi-Fi에서만 다운로드\r\n  respectSaveData: true,       // 데이터 절약 모드 존중\r\n  minDownlinkMbps: 5,          // 최소 5Mbps 필요\r\n  chunkSize: undefined         // 네트워크 속도에 따라 자동 조정\r\n});`;\r\n\r\n  const nextjsAppRouterCode = `'use client';  // Next.js 13+ App Router\r\n\r\nimport { usePrefetcher } from '@jobkaehenry/whisper-fetch/react';\r\n\r\nexport default function VideoPage() {\r\n  const { status, progress, objectURL } = usePrefetcher({\r\n    url: 'https://cdn.example.com/video.mp4'\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <p>진행률: {progress}%</p>\r\n      {objectURL && <video src={objectURL} controls />}\r\n    </div>\r\n  );\r\n}`;\r\n\r\n  const nextjsPagesRouterCode = `import dynamic from 'next/dynamic';\r\n\r\nconst VideoPlayer = dynamic(() => import('../components/VideoPlayer'), {\r\n  ssr: false  // SSR 비활성화\r\n});\r\n\r\nexport default function Page() {\r\n  return <VideoPlayer />;\r\n}`;\r\n\r\n  const testCode = `npm test`;\r\n\r\n  const e2eTestCode = `npm run build\r\nnpx playwright test`;\r\n\r\n  return (\r\n    <DocLayout>\r\n      <div className=\"section\">\r\n        <h1 id=\"docs\">문서</h1>\r\n        <p>Whisper Fetch의 완전한 사용 가이드입니다.</p>\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h2 id=\"installation\">설치</h2>\r\n        <CodeBlock code={installCode} language=\"bash\" title=\"Terminal\" />\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h2 id=\"basic-usage\">기본 사용법</h2>\r\n\r\n        <h3 id=\"create-prefetcher\">BackgroundPrefetcher 생성</h3>\r\n        <CodeBlock code={basicUsageCode} language=\"typescript\" title=\"index.ts\" />\r\n\r\n        <h3 id=\"download-control\">다운로드 제어</h3>\r\n        <CodeBlock code={controlCode} language=\"typescript\" title=\"control.ts\" />\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h2 id=\"options\">옵션</h2>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"option-url\">url: string</h4>\r\n          <p>다운로드할 파일의 URL (필수)</p>\r\n        </div>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"option-cellular\">allowOnCellular?: boolean</h4>\r\n          <p>셀룰러 네트워크에서 다운로드 허용 여부 (기본값: false)</p>\r\n          <CodeBlock code={cellularCode} language=\"typescript\" />\r\n        </div>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"option-savedata\">respectSaveData?: boolean</h4>\r\n          <p>사용자의 데이터 절약 모드 존중 여부 (기본값: true)</p>\r\n          <CodeBlock code={saveDataCode} language=\"typescript\" />\r\n        </div>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"option-downlink\">minDownlinkMbps?: number</h4>\r\n          <p>최소 네트워크 속도 (Mbps) (기본값: 2)</p>\r\n          <CodeBlock code={downlinkCode} language=\"typescript\" />\r\n        </div>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"option-chunksize\">chunkSize?: number</h4>\r\n          <p>청크 크기 (바이트). 생략 시 네트워크 상태에 따라 자동 조정 (512KB~4MB)</p>\r\n          <CodeBlock code={chunkSizeCode} language=\"typescript\" />\r\n        </div>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"option-integrity\">integritySha256?: string</h4>\r\n          <p>완료 시 검증할 SHA-256 해시 (선택사항)</p>\r\n          <CodeBlock code={integrityCode} language=\"typescript\" />\r\n        </div>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"option-store\">store?: 'opfs' | 'idb'</h4>\r\n          <p>저장소 타입 (기본값: 'opfs', 폴백 지원)</p>\r\n          <CodeBlock code={storeCode} language=\"typescript\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h2 id=\"react-hook\">React Hook 사용법</h2>\r\n\r\n        <h3 id=\"use-prefetcher\">usePrefetcher</h3>\r\n        <CodeBlock code={hookCode} language=\"tsx\" title=\"FileDownloader.tsx\" />\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h2 id=\"prefetch-manager\">병렬 URL 다운로드 (PrefetchManager)</h2>\r\n        <p>여러 URL을 동시에 다운로드하여 병목 현상을 제거합니다.</p>\r\n\r\n        <h3 id=\"manager-basic\">기본 사용법</h3>\r\n        <CodeBlock code={managerBasicCode} language=\"typescript\" title=\"manager.ts\" />\r\n\r\n        <h3 id=\"manager-control\">상태 확인 및 제어</h3>\r\n        <CodeBlock code={managerControlCode} language=\"typescript\" title=\"control.ts\" />\r\n\r\n        <h3 id=\"manager-example\">실사용 예제</h3>\r\n        <CodeBlock code={managerExampleCode} language=\"typescript\" title=\"video-prefetch.ts\" />\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h2 id=\"events\">이벤트</h2>\r\n        <p>BackgroundPrefetcher는 다양한 상태 이벤트를 발생시킵니다:</p>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"event-started\">started</h4>\r\n          <p>프리페치 루프가 시작됨</p>\r\n        </div>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"event-paused\">paused</h4>\r\n          <p>포그라운드 활동 또는 수동 일시정지로 인해 중단됨</p>\r\n        </div>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"event-resumed\">resumed</h4>\r\n          <p>유휴 상태 후 재개됨</p>\r\n        </div>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"event-completed\">completed</h4>\r\n          <p>모든 바이트를 가져와 조립 완료</p>\r\n        </div>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"event-stopped\">stopped</h4>\r\n          <p>stop() 호출로 중지됨</p>\r\n        </div>\r\n\r\n        <div className=\"api-method\">\r\n          <h4 id=\"event-error\">error</h4>\r\n          <p>복구 불가능한 오류 발생</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h2 id=\"advanced\">고급 사용법</h2>\r\n\r\n        <h3 id=\"storage-selection\">저장소 선택</h3>\r\n        <p>\r\n          Whisper Fetch는 두 가지 저장소 메커니즘을 지원합니다:\r\n        </p>\r\n        <ul>\r\n          <li><strong>OPFS (Origin Private File System)</strong>: Chrome 114+ 에서 지원. 스트리밍 쓰기로 최고의 성능 제공</li>\r\n          <li><strong>IndexedDB</strong>: 모든 최신 브라우저에서 지원. OPFS를 사용할 수 없을 때 자동 폴백</li>\r\n        </ul>\r\n\r\n        <h3 id=\"integrity-verification\">무결성 검증</h3>\r\n        <p>\r\n          integritySha256 옵션을 제공하면, 다운로드가 완료된 후 조립된 Blob에 대해 SHA-256 해시를 검증합니다.\r\n          해시가 일치하지 않으면 'error' 이벤트가 발생합니다.\r\n        </p>\r\n        <CodeBlock code={integrityVerifyCode} language=\"typescript\" title=\"verify.ts\" />\r\n\r\n        <h3 id=\"network-conditions\">네트워크 조건 제어</h3>\r\n        <p>\r\n          모바일 데이터 사용량과 사용자 경험을 최적화하기 위해 다양한 네트워크 조건을 제어할 수 있습니다:\r\n        </p>\r\n        <CodeBlock code={networkControlCode} language=\"typescript\" title=\"network.ts\" />\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h2 id=\"server-requirements\">서버 요구사항</h2>\r\n        <p>Whisper Fetch가 올바르게 작동하려면 서버가 다음을 지원해야 합니다:</p>\r\n\r\n        <h3 id=\"required\">필수 요구사항</h3>\r\n        <ul>\r\n          <li><strong>HTTP Range 요청</strong>: 206 Partial Content 응답 지원</li>\r\n        </ul>\r\n\r\n        <h3 id=\"recommended\">권장 사항</h3>\r\n        <ul>\r\n          <li><strong>ETag 헤더</strong>: 파일 변경 감지를 위해</li>\r\n          <li><strong>If-Range 지원</strong>: 안전한 Range 요청 재개를 위해</li>\r\n        </ul>\r\n\r\n        <p>대부분의 CDN (CloudFlare, AWS CloudFront, Fastly 등)은 이러한 요구사항을 기본적으로 지원합니다.</p>\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h2 id=\"nextjs\">Next.js 사용법</h2>\r\n        <p>Next.js에서 Whisper Fetch를 사용할 때는 클라이언트 사이드에서만 실행되도록 해야 합니다:</p>\r\n\r\n        <CodeBlock code={nextjsAppRouterCode} language=\"tsx\" title=\"VideoPage.tsx\" />\r\n\r\n        <p>Pages Router를 사용하는 경우:</p>\r\n        <CodeBlock code={nextjsPagesRouterCode} language=\"tsx\" title=\"Page.tsx\" />\r\n      </div>\r\n\r\n      <div className=\"section\">\r\n        <h2 id=\"testing\">테스팅</h2>\r\n\r\n        <h3 id=\"unit-tests\">단위 테스트</h3>\r\n        <CodeBlock code={testCode} language=\"bash\" title=\"Terminal\" />\r\n\r\n        <h3 id=\"e2e-tests\">E2E 테스트 (Playwright)</h3>\r\n        <CodeBlock code={e2eTestCode} language=\"bash\" title=\"Terminal\" />\r\n      </div>\r\n    </DocLayout>\r\n  );\r\n};\r\n\r\nexport default DocsPage;\r\n\r\nexport const Head = () => <title>문서 - Whisper Fetch</title>;\r\n\r\nexport const query = graphql`\r\n  query ($language: String!) {\r\n    locales: allLocale(filter: {language: {eq: $language}}) {\r\n      edges {\r\n        node {\r\n          ns\r\n          data\r\n          language\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"names":["_ref","items","activeId","setActiveId","useState","useEffect","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","target","id","rootMargin","item","element","document","getElementById","observe","disconnect","React","className","map","key","level","href","onClick","e","handleClick","preventDefault","offsetTop","window","scrollTo","top","behavior","history","pushState","text","children","tocItems","setTocItems","isSidebarOpen","setIsSidebarOpen","headings","querySelectorAll","heading","textContent","parseInt","tagName","substring","push","toggleSidebar","Layout","length","TableOfContents","DocsPage","DocLayout","CodeBlock","code","language","title","Head"],"sourceRoot":""}